server {
        listen 80 default_server;
        listen [::]:80 default_server;

        # SSL configuration
        
        listen 443 ssl default_server;
        listen [::]:443 ssl default_server;

        ssl on;
        ssl_certificate /etc/ssl/crt.crt;
        ssl_certificate_key /etc/ssl/private.key;
        ssl_protocols TLSv1.2;

        root /var/www/html/wordpress;
        index index.html index.php;

        server_name Inception;

        location /grafana {
          proxy_pass http://grafana:3000;
          proxy_set_header Host $http_host;
          proxy_set_header X-Forwarded-Host $host:$server_port;
          proxy_set_header X-Forwarded-Server $host;
          proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        }
        location /website/ {
          proxy_pass http://website:777/;
          autoindex on;
        }
        location /adminer {
          proxy_pass http://adminer:8080/;
        }
        location / {
          try_files $uri $uri/ =404;
          autoindex on;
        }
        location ~ \.php$ {
          include snippets/fastcgi-php.conf;
          fastcgi_pass wordpress:9000;
        }
}